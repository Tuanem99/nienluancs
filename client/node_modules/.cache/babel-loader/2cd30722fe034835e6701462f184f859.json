{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TUAN EM\\\\Desktop\\\\ct271-main\\\\code\\\\client\\\\src\\\\component\\\\Layout\\\\Order\\\\Order.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Paper, Slide, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core';\nimport orderApi from '../../../API/orderAPI';\nimport { useSnackbar } from 'notistack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nfunction Order() {\n  _s();\n\n  const [order, setOrder] = useState([]);\n  const [product, setProduct] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [idorder, setIdorder] = useState(0);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [ref, setRef] = useState(0);\n  useEffect(() => {\n    (async () => {\n      const rs = await orderApi.get();\n      setOrder(rs.data);\n      setProduct(rs.product);\n    })();\n  }, [ref]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const HuyDon = async idorder => {\n    try {\n      await orderApi.cancelOrder(idorder);\n      enqueueSnackbar('Gửi yêu cầu thành công', {\n        variant: 'success',\n        autoHideDuration: 2000\n      });\n      setRef(e => e + 1);\n    } catch (error) {\n      enqueueSnackbar(error.message, {\n        variant: 'error',\n        autoHideDuration: 2000\n      });\n    }\n  };\n\n  const tableHead = [{\n    name: 'Đơn hàng'\n  }, {\n    name: 'Ngày'\n  }, {\n    name: 'Sản Phẩm'\n  }, {\n    name: 'Giá'\n  }, {\n    name: 'Tổng giá'\n  }, {\n    name: 'Trạng thái'\n  }, {\n    name: 'Hành động'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        maxWidth: 1200,\n        margin: '0 auto',\n        paddingBottom: '5rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(TableContainer, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            style: {\n              backgroundColor: '#252f3e'\n            },\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: tableHead.map((e, index) => /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  color: '#fff',\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: e.name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: order.map((e, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: e.idOrder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: e.dateOrder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  fontSize: '1rem'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  children: product.map((ev, i) => ev.idOrder === e.idOrder && /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [ev.name, \" - \", ev.color, \" - \", ev.size]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  children: product.map((ev, i) => ev.idOrder === e.idOrder && /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"$\", ev.Price]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: [\"$\", e.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  textAlign: 'center',\n                  fontSize: '1rem'\n                },\n                children: [e.status === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-bold text-10 text-teal\",\n                  children: \"\\u0110ang ch\\u1EDD x\\xE1c nh\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 45\n                }, this), e.status === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-bold text-10 text-gray-500 \",\n                  children: \"\\u0110ang y\\xEAu c\\u1EA7u h\\u1EE7y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 45\n                }, this), e.status === 4 && /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: true,\n                  color: \"secondary\",\n                  children: \"\\u0110\\xE3 h\\u1EE7y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 45\n                }, this), e.status === 2 && /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: true,\n                  color: \"secondary\",\n                  children: \"\\u0110\\xE3 x\\xE1c nh\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [e.status === 0 && /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    setIdorder(e.idOrder);\n                    handleClickOpen();\n                  },\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  children: \"h\\u1EE7y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 45\n                }, this), e.status === 3 && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  disabled: true,\n                  children: \"Y\\xEAu c\\u1EA7u h\\u1EE7y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 37\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      disableBackdropClick: true,\n      disableEscapeKeyDown: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        onClose: handleClose,\n        children: \"Th\\xF4ng b\\xE1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primary h3-responsive text-center font-weight-bold\",\n          style: {\n            width: '400px'\n          },\n          children: \"B\\u1EA1n mu\\u1ED1n h\\u1EE7y \\u0111\\u01A1n h\\xE0ng. \\u0110\\u01A1n h\\xE0ng s\\u1EBD \\u0111\\u01B0\\u1EE3c ho\\xE0n ti\\u1EC1n trong 3 ng\\xE0y.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            handleClose();\n            HuyDon(idorder);\n          },\n          color: \"primary\",\n          children: \"\\u0110\\u1ED3ng \\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Order, \"y0eMEuU0jNPNaFeaRrjVI5fDYMY=\", false, function () {\n  return [useSnackbar];\n});\n\n_c3 = Order;\nexport default Order;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"Order\");","map":{"version":3,"sources":["C:/Users/TUAN EM/Desktop/ct271-main/code/client/src/component/Layout/Order/Order.jsx"],"names":["React","useEffect","useState","Button","Dialog","DialogActions","DialogContent","DialogTitle","Paper","Slide","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","orderApi","useSnackbar","Transition","forwardRef","props","ref","Order","order","setOrder","product","setProduct","open","setOpen","idorder","setIdorder","enqueueSnackbar","setRef","rs","get","data","handleClose","handleClickOpen","HuyDon","cancelOrder","variant","autoHideDuration","e","error","message","tableHead","name","maxWidth","margin","paddingBottom","backgroundColor","map","index","color","textAlign","fontSize","idOrder","dateOrder","ev","i","size","Price","total","status","width"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Paper,\n    Slide,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow\n} from '@material-ui/core';\nimport orderApi from '../../../API/orderAPI';\nimport {useSnackbar} from 'notistack';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction Order() {\n    const [order, setOrder] = useState([]);\n    const [product, setProduct] = useState([]);\n    const [open, setOpen] = useState(false);\n    const [idorder, setIdorder] = useState(0);\n    const {enqueueSnackbar} = useSnackbar();\n    const [ref, setRef] = useState(0);\n    useEffect(() => {\n        (async () => {\n            const rs = await orderApi.get();\n            setOrder(rs.data);\n            setProduct(rs.product)\n        })\n        ()\n    }, [ref]) // eslint-disable-line react-hooks/exhaustive-deps\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n\n    const HuyDon = async (idorder) => {\n        try {\n            await orderApi.cancelOrder(idorder);\n            enqueueSnackbar('Gửi yêu cầu thành công', {variant: 'success', autoHideDuration: 2000});\n            setRef(e => e + 1);\n\n        } catch (error) {\n            enqueueSnackbar(error.message, {variant: 'error', autoHideDuration: 2000});\n        }\n    }\n    const tableHead = [{\n        name: 'Đơn hàng'\n    },\n        {\n            name: 'Ngày'\n        },\n        {\n            name: 'Sản Phẩm'\n        },\n        {\n            name: 'Giá'\n        },\n        {\n            name: 'Tổng giá'\n        },\n        {\n            name: 'Trạng thái'\n        },\n        {\n            name: 'Hành động'\n        }\n    ]\n    return (\n        <div>\n            <Paper style={{maxWidth: 1200, margin: '0 auto', paddingBottom: '5rem'}}>\n                <TableContainer>\n                    <Table>\n                        <TableHead style={{backgroundColor: '#252f3e'}}>\n                            <TableRow>\n                                {tableHead.map((e, index) => (\n                                    <TableCell style={{color: '#fff', textAlign: 'center', fontSize: '1rem'}}\n                                               key={index}>\n                                        {e.name}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {order.map((e, index) => (\n                                <TableRow key={index}>\n                                    <TableCell style={{textAlign: 'center', fontSize: '1rem'}}>\n                                        {e.idOrder}\n                                    </TableCell>\n                                    <TableCell style={{textAlign: 'center', fontSize: '1rem'}}>\n                                        {e.dateOrder}\n                                    </TableCell>\n                                    <TableCell style={{fontSize: '1rem'}}>\n\n                                        <ol>\n                                            {product.map((ev, i) => (\n                                                (ev.idOrder === e.idOrder) && (\n                                                    <li key={i}>{ev.name} - {ev.color} - {ev.size}</li>\n                                                )\n                                            ))}\n\n                                        </ol>\n                                    </TableCell>\n                                    <TableCell style={{textAlign: 'center', fontSize: '1rem'}}>\n\n                                        <ol>\n                                            {product.map((ev, i) => (\n                                                (ev.idOrder === e.idOrder) && (\n                                                    <li key={i}>${ev.Price}</li>\n                                                )\n                                            ))}\n\n                                        </ol>\n                                    </TableCell>\n                                    <TableCell style={{textAlign: 'center', fontSize: '1rem'}}>\n                                        ${e.total}\n                                    </TableCell>\n                                    <TableCell style={{textAlign: 'center', fontSize: '1rem'}}>\n                                        {(e.status === 0) && (\n                                            <div className=\"font-bold text-10 text-teal\">\n                                                Đang chờ xác nhận\n                                            </div>\n                                        )}\n\n                                        {(e.status === 3) && (\n                                            <div className=\"font-bold text-10 text-gray-500 \">\n                                                Đang yêu cầu hủy\n                                            </div>\n                                        )}\n                                        {(e.status === 4) && (\n                                            <Button\n                                                disabled\n                                                color=\"secondary\">\n                                                Đã hủy\n                                            </Button>\n                                        )}\n                                        {(e.status === 2) && (\n                                            <Button\n                                                disabled\n                                                color=\"secondary\">\n                                                Đã xác nhận\n                                            </Button>\n                                        )}\n\n\n                                    </TableCell>\n                                    <TableCell>\n                                        {(e.status === 0) && (\n                                            <Button\n                                                onClick={() => {\n                                                    setIdorder(e.idOrder);\n                                                    handleClickOpen();\n                                                }}\n                                                variant=\"contained\"\n                                                color=\"secondary\">hủy</Button>\n                                        )}\n                                        {(e.status === 3) && (\n                                            <Button variant=\"contained\" disabled>\n                                                Yêu cầu hủy\n                                            </Button>\n                                        )}\n                                    </TableCell>\n                                </TableRow>))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Paper>\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                disableBackdropClick\n                disableEscapeKeyDown\n            >\n                <DialogTitle onClose={handleClose}>\n                    Thông báo\n                </DialogTitle>\n                <DialogContent>\n                    <p className=\"text-primary h3-responsive text-center font-weight-bold\" style={{width: '400px'}}>Bạn\n                        muốn hủy đơn hàng. Đơn hàng sẽ được hoàn tiền trong 3 ngày.</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={handleClose} color=\"primary\">\n                        Hủy\n                    </Button>\n                    <Button onClick={() => {\n                        handleClose()\n                        HuyDon(idorder)\n                    }} color=\"primary\">\n                        Đồng ý\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default Order;"]},"metadata":{},"sourceType":"module"}