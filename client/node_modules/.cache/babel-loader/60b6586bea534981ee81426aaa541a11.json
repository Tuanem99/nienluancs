{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TUAN EM\\\\Desktop\\\\ct271-main\\\\code\\\\client\\\\src\\\\component\\\\Layout\\\\DetailPage\\\\DetailPage.jsx\",\n    _s = $RefreshSig$();\n\nimport { AppBar, Box, Button, Card, CardActions, CardContent, CardMedia, Dialog, DialogActions, DialogContent, Divider, FormControl, FormControlLabel, FormHelperText, Grid, InputLabel, List, ListItem, ListItemAvatar, ListItemText, makeStyles, MenuItem, Paper, Select, Slide, TextField, Toolbar, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport productApi from '../../../API/productAPI';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Rating from \"@material-ui/lab/Rating\";\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport Products_has_SizesAPI from '../../../API/Products_has_SizesAPI';\nimport Products_has_ColorsAPI from '../../../API/Products_has_ColorsAPI';\nimport Checkout from '../Checkout/Checkout';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { addtoCart } from '../../../Slice/cartSlice';\nimport { useSnackbar } from 'notistack';\nimport { getProfile } from '../../../Slice/useSlice';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport reviewApi from '../../../API/reviewAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  left: {\n    width: '250px',\n    borderRadius: '8px',\n    padding: theme.spacing(0, 2)\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    backgroundColor: '#252f3e',\n    color: '#fff',\n    borderTopLeftRadius: '8px',\n    borderTopRightRadius: '8px'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 200\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nfunction DetailPage() {\n  _s();\n\n  var _form$errors$idsize, _form$errors$idcolor, _form$errors$soluong;\n\n  const schema = yup.object().shape({\n    soluong: yup.number().required('Chọn số lượng').min(1, \"Số lượng ít nhất là 1\").typeError(\"Vui lòng chọn số lượng\"),\n    idcolor: yup.string().required(\"Vui lòng chọn màu\"),\n    idsize: yup.string().required(\"Vui lòng chọn size\")\n  });\n  const classes = useStyles();\n  const match = useRouteMatch();\n  const idsp = match.params.productId;\n  const [data, setData] = useState([]);\n  const [size, setSize] = useState([]);\n  const [color, setColor] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(4);\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const [sizename, setSizename] = useState('');\n  const [colorname, setColorname] = useState('');\n  const [soluong, setSoluong] = useState(1);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const iduser = useSelector(state => state.user.current.id);\n  const prof = useSelector(state => state.user.profile);\n  const [profile, setProfile] = useState(prof);\n  const isLogIn = !!iduser;\n  const history = useHistory();\n  const listorder = useSelector(state => state.user.order.product);\n  const [cmt, setcmt] = useState(false);\n  const [datacmt, setDatacmt] = useState([]);\n  const [ref, setRef] = useState(0);\n  useEffect(() => {\n    (async () => {\n      const res = await productApi.get(idsp);\n      setData(res);\n      const resSize = await Products_has_SizesAPI.getById(idsp);\n      setSize(resSize.data);\n      const resColor = await Products_has_ColorsAPI.getById(idsp);\n      setColor(resColor.data);\n      const resCmt = await reviewApi.get(idsp);\n      setDatacmt(resCmt);\n\n      if (isLogIn) {\n        await dispatch(getProfile());\n        setProfile(JSON.parse(localStorage.getItem('profile')) || '');\n      }\n\n      if (!!listorder) {\n        listorder.forEach(element => {\n          if (element.idsp === parseInt(idsp)) {\n            setcmt(true);\n            return;\n          }\n        });\n      }\n    })();\n  }, [isLogIn, ref]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const form = useForm({\n    defaultValues: {\n      idsize: '',\n      idsp: '',\n      idcolor: '',\n      soluong: 1\n    },\n    resolver: yupResolver(schema)\n  });\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const onSubmitOne = value => {\n    setColorname(value.idcolor);\n    setSizename(value.idsize);\n    setSoluong(value.soluong);\n  };\n\n  const onSubmit = async value => {\n    const data = {\n      rating: parseInt(value.rating),\n      comment: value.title,\n      iduser: iduser,\n      idproduct: parseInt(idsp)\n    };\n    await reviewApi.create(data);\n    setRef(e => e + 1);\n  };\n\n  const dispatch = useDispatch();\n\n  const addCart = () => {\n    dispatch(addtoCart({\n      iduser: iduser,\n      idsp: parseInt(idsp),\n      name: profile.firstname,\n      phone: profile.phone,\n      addr: profile.address,\n      src: data.img,\n      nameproduct: data.tensp,\n      size: form.getValues(\"idsize\"),\n      color: form.getValues(\"idcolor\"),\n      soluong: soluong,\n      gia: data.gia\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"w-auto px-64 py-32 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        className: \"mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          className: classes.left,\n          children: /*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"img\",\n            image: data.img,\n            style: {\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 9,\n          className: classes.right,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-16 w-full\",\n            children: [/*#__PURE__*/_jsxDEV(AppBar, {\n              className: classes.appBar,\n              position: \"static\",\n              elevation: 0,\n              children: /*#__PURE__*/_jsxDEV(Toolbar, {\n                className: \"pl-16 pr-8\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"inherit\",\n                  variant: \"h4\",\n                  className: \"font-arc flex-1 font-arc\",\n                  children: data.tensp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: form.handleSubmit(onSubmitOne),\n              children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                className: \"mx-24\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-arc font-bold mb-4 text-20\",\n                    children: data.tenloaisp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-arc font-bold mb-4 text-20\",\n                    children: \"M\\xF4 t\\u1EA3: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-arc text-20\",\n                    children: [\" \", data.mota]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-arc font-bold mb-4 text-20\",\n                    children: \"Gi\\xE1: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-arc text-20\",\n                    children: [\" $\", data.gia]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-20\",\n                    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                      className: classes.formControl,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"tensize\",\n                        children: \"Size\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 46\n                      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n                        as: /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Select, {\n                            value: sizename,\n                            onChange: e => {\n                              // Place your logic here\n                              form.setValue(\"idsize\", e.target.value);\n                              setSizename(e.target.value);\n                            },\n                            labelId: \"tensize\",\n                            children: size.map(value => /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: value.tensize,\n                              children: value.tensize\n                            }, value.idsize, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 237,\n                              columnNumber: 62\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 227,\n                            columnNumber: 54\n                          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                            error: !!form.errors['idsize'],\n                            children: (_form$errors$idsize = form.errors['idsize']) === null || _form$errors$idsize === void 0 ? void 0 : _form$errors$idsize.message\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 242,\n                            columnNumber: 54\n                          }, this)]\n                        }, void 0, true),\n                        error: !!form.errors['idsize'],\n                        name: \"idsize\",\n                        onChange: e => {\n                          // Place your logic here\n                          setSizename(e.target.value);\n                        },\n                        control: form.control\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 42\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                      className: classes.formControl,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"tencolor\",\n                        children: \"M\\xE0u\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 46\n                      }, this), /*#__PURE__*/_jsxDEV(Controller, {\n                        as: /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Select, {\n                            value: colorname,\n                            onChange: e => {\n                              setColorname(e.target.value);\n                              form.setValue('idcolor', e.target.value);\n                            },\n                            labelId: \"tencolor\",\n                            children: color.map(value => /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: value.tencolor,\n                              children: value.tencolor\n                            }, value.idcolor, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 272,\n                              columnNumber: 62\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 54\n                          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                            error: !!form.errors['idcolor'],\n                            children: (_form$errors$idcolor = form.errors['idcolor']) === null || _form$errors$idcolor === void 0 ? void 0 : _form$errors$idcolor.message\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 278,\n                            columnNumber: 54\n                          }, this)]\n                        }, void 0, true),\n                        error: !!form.errors['idcolor'],\n                        name: \"idcolor\",\n                        onChange: e => setColorname(e.target.value),\n                        control: form.control\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 42\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(FormControl, {\n                        className: classes.formControl,\n                        children: /*#__PURE__*/_jsxDEV(Controller, {\n                          as: /*#__PURE__*/_jsxDEV(TextField, {\n                            variant: \"outlined\",\n                            id: \"title1\",\n                            label: \"S\\u1ED1 l\\u01B0\\u1EE3ng\",\n                            type: \"number\",\n                            value: form.getValues(\"soluong\"),\n                            onChange: e => setSoluong(e.target.value)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 49\n                          }, this),\n                          name: \"soluong\",\n                          control: form.control,\n                          error: !!form.errors['soluong'],\n                          helperText: (_form$errors$soluong = form.errors['soluong']) === null || _form$errors$soluong === void 0 ? void 0 : _form$errors$soluong.message\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 293,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                className: \"m-12\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"default\",\n                  type: \"submit\",\n                  className: classes.button,\n                  onClick: () => {\n                    if (!isLogIn) {\n                      history.push('/login');\n                      return;\n                    }\n\n                    if (sizename === '' || colorname === '') {\n                      enqueueSnackbar('Vui lòng chọn nhập tin sản phẩm', {\n                        variant: 'error',\n                        autoHideDuration: 2000\n                      });\n                    } else {\n                      addCart();\n                    }\n                  },\n                  startIcon: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 56\n                  }, this),\n                  children: \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  type: \"submit\",\n                  onClick: () => {\n                    if (!isLogIn) {\n                      history.push('/login');\n                      return;\n                    }\n\n                    if (form.getValues('idsize') === '' || form.getValues('idsize') === '') {\n                      enqueueSnackbar('Vui lòng chọn nhập tin sản phẩm', {\n                        variant: 'error',\n                        autoHideDuration: 2000\n                      });\n                    } else {\n                      handleClickOpen();\n                    }\n                  },\n                  className: classes.button,\n                  startIcon: /*#__PURE__*/_jsxDEV(ShoppingBasketIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 56\n                  }, this),\n                  children: \"Mua ngay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this), cmt && /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-16 w-lg\",\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"mx-16\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(onSubmit),\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"rating\",\n                      type: \"number\",\n                      value: rating,\n                      ref: register,\n                      hidden: true,\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                      name: \"rating\",\n                      value: rating,\n                      precision: 1,\n                      onChange: (_, value) => {\n                        setRating(value);\n                      },\n                      icon: /*#__PURE__*/_jsxDEV(StarBorderIcon, {\n                        fontSize: \"inherit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 71\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  margin: \"normal\",\n                  fullWidth: true,\n                  id: \"title\",\n                  label: \"\\u0110\\xE1nh gi\\xE1\",\n                  name: \"title\",\n                  autoFocus: true,\n                  inputRef: register()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  color: \"primary\",\n                  className: classes.submit,\n                  children: \"Th\\xEAm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-16\",\n            children: [/*#__PURE__*/_jsxDEV(AppBar, {\n              className: classes.appBar,\n              position: \"static\",\n              elevation: 0,\n              children: /*#__PURE__*/_jsxDEV(Toolbar, {\n                className: \"pl-16 pr-8\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"inherit\",\n                  variant: \"h4\",\n                  className: \"font-arc flex-1\",\n                  children: \"B\\xECnh lu\\u1EADn \\u0111\\xE1nh gi\\xE1 s\\u1EA3n ph\\u1EA9m\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(List, {\n                children: datacmt.map((e, index) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                    children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                      children: /*#__PURE__*/_jsxDEV(Avatar, {\n                        alt: \"avt\",\n                        src: e.avt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-arc\",\n                          style: {\n                            display: 'block',\n                            fontWeight: 'bold'\n                          },\n                          children: e.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 438,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-arc\",\n                          children: e.comment\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 439,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true),\n                      secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            display: 'block'\n                          },\n                          children: e.datecmt\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 443,\n                          columnNumber: 71\n                        }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                          value: e.rating,\n                          name: \"ratingg\",\n                          icon: /*#__PURE__*/_jsxDEV(StarBorderIcon, {\n                            fontSize: \"inherit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 448,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 445,\n                          columnNumber: 71\n                        }, this)]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 53\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                    variant: \"inset\",\n                    component: \"li\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      fullWidth: true,\n      maxWidth: \"md\",\n      open: open,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      disableBackdropClick: true,\n      disableEscapeKeyDown: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Checkout, {\n          iduser: iduser,\n          idsp: parseInt(idsp),\n          name: profile.firstname || '',\n          phone: profile.phone || '',\n          addr: profile.address || '',\n          src: data.img,\n          nameproduct: data.tensp,\n          size: sizename,\n          color: colorname,\n          soluong: soluong,\n          gia: data.gia,\n          closeDialog: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DetailPage, \"Kxq0Yh75M0IUIsmJ9/mYXSQK42I=\", false, function () {\n  return [useStyles, useRouteMatch, useForm, useSnackbar, useSelector, useSelector, useHistory, useSelector, useForm, useDispatch];\n});\n\n_c3 = DetailPage;\nexport default DetailPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"DetailPage\");","map":{"version":3,"sources":["C:/Users/TUAN EM/Desktop/ct271-main/code/client/src/component/Layout/DetailPage/DetailPage.jsx"],"names":["AppBar","Box","Button","Card","CardActions","CardContent","CardMedia","Dialog","DialogActions","DialogContent","Divider","FormControl","FormControlLabel","FormHelperText","Grid","InputLabel","List","ListItem","ListItemAvatar","ListItemText","makeStyles","MenuItem","Paper","Select","Slide","TextField","Toolbar","Typography","React","useEffect","useState","useHistory","useRouteMatch","productApi","ShoppingCartIcon","Rating","StarBorderIcon","Controller","useForm","useDispatch","useSelector","ShoppingBasketIcon","Products_has_SizesAPI","Products_has_ColorsAPI","Checkout","yupResolver","yup","addtoCart","useSnackbar","getProfile","Avatar","reviewApi","useStyles","theme","left","width","borderRadius","padding","spacing","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundColor","color","borderTopLeftRadius","borderTopRightRadius","formControl","margin","minWidth","Transition","forwardRef","props","ref","DetailPage","schema","object","shape","soluong","number","required","min","typeError","idcolor","string","idsize","classes","match","idsp","params","productId","data","setData","size","setSize","setColor","open","setOpen","rating","setRating","register","handleSubmit","sizename","setSizename","colorname","setColorname","setSoluong","enqueueSnackbar","iduser","state","user","current","id","prof","profile","setProfile","isLogIn","history","listorder","order","product","cmt","setcmt","datacmt","setDatacmt","setRef","res","get","resSize","getById","resColor","resCmt","dispatch","JSON","parse","localStorage","getItem","forEach","element","parseInt","form","defaultValues","resolver","handleClose","handleClickOpen","onSubmitOne","value","onSubmit","comment","title","idproduct","e","addCart","name","firstname","phone","addr","address","src","img","nameproduct","tensp","getValues","gia","right","tenloaisp","mota","setValue","target","map","tensize","errors","message","control","tencolor","button","push","variant","autoHideDuration","_","submit","index","avt","display","fontWeight","datecmt"],"mappings":"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","sourcesContent":["import {\n    AppBar,\n    Box,\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    CardMedia,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    Divider,\n    FormControl,\n    FormControlLabel,\n    FormHelperText,\n    Grid,\n    InputLabel,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    MenuItem,\n    Paper,\n    Select,\n    Slide,\n    TextField,\n    Toolbar,\n    Typography\n} from '@material-ui/core';\nimport React, {useEffect, useState} from 'react';\nimport {useHistory, useRouteMatch} from 'react-router-dom';\nimport productApi from '../../../API/productAPI';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Rating from \"@material-ui/lab/Rating\";\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport {Controller, useForm} from 'react-hook-form';\nimport {useDispatch, useSelector} from 'react-redux';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport Products_has_SizesAPI from '../../../API/Products_has_SizesAPI';\nimport Products_has_ColorsAPI from '../../../API/Products_has_ColorsAPI';\nimport Checkout from '../Checkout/Checkout';\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport {addtoCart} from '../../../Slice/cartSlice'\nimport {useSnackbar} from 'notistack';\nimport {getProfile} from '../../../Slice/useSlice';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport reviewApi from '../../../API/reviewAPI';\n\nconst useStyles = makeStyles(theme => ({\n    left: {\n        width: '250px',\n        borderRadius: '8px',\n        padding: theme.spacing(0,2)\n    },\n    appBar: {\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        backgroundColor: '#252f3e',\n        color: '#fff',\n        borderTopLeftRadius: '8px',\n        borderTopRightRadius: '8px',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 200,\n    }\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction DetailPage() {\n    const schema = yup.object().shape({\n        soluong: yup.number().required('Chọn số lượng').min(1, \"Số lượng ít nhất là 1\").typeError(\"Vui lòng chọn số lượng\"),\n        idcolor: yup.string().required(\"Vui lòng chọn màu\"),\n        idsize: yup.string().required(\"Vui lòng chọn size\")\n\n    });\n\n    const classes = useStyles();\n    const match = useRouteMatch();\n    const idsp = match.params.productId;\n    const [data, setData] = useState([]);\n    const [size, setSize] = useState([]);\n    const [color, setColor] = useState([]);\n    const [open, setOpen] = useState(false);\n    const [rating, setRating] = useState(4);\n    const {register, handleSubmit} = useForm();\n    const [sizename, setSizename] = useState('');\n    const [colorname, setColorname] = useState('');\n    const [soluong, setSoluong] = useState(1);\n    const {enqueueSnackbar} = useSnackbar();\n    const iduser = useSelector(state => state.user.current.id);\n    const prof = useSelector(state => state.user.profile);\n    const [profile, setProfile] = useState(prof)\n    const isLogIn = !!iduser;\n    const history = useHistory();\n    const listorder = useSelector(state => state.user.order.product);\n    const [cmt, setcmt] = useState(false)\n    const [datacmt, setDatacmt] = useState([]);\n    const [ref, setRef] = useState(0);\n\n    useEffect(() => {\n        (async () => {\n            const res = await productApi.get(idsp);\n            setData(res)\n            const resSize = await Products_has_SizesAPI.getById(idsp);\n            setSize(resSize.data)\n            const resColor = await Products_has_ColorsAPI.getById(idsp);\n            setColor(resColor.data);\n            const resCmt = await reviewApi.get(idsp);\n            setDatacmt(resCmt)\n            if (isLogIn) {\n                await dispatch(getProfile())\n                setProfile(JSON.parse(localStorage.getItem('profile')) || '')\n            }\n            if (!!listorder) {\n                listorder.forEach(element => {\n                    if (element.idsp === parseInt(idsp)) {\n                        setcmt(true);\n                        return;\n                    }\n                });\n            }\n        })()\n    }, [isLogIn, ref]) // eslint-disable-line react-hooks/exhaustive-deps\n    const form = useForm({\n        defaultValues: {\n            idsize: '',\n            idsp: '',\n            idcolor: '',\n            soluong: 1\n        },\n        resolver: yupResolver(schema)\n    });\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const onSubmitOne = value => {\n        setColorname(value.idcolor)\n        setSizename(value.idsize)\n        setSoluong(value.soluong)\n    }\n\n    const onSubmit = async value => {\n        const data = {\n            rating: parseInt(value.rating),\n            comment: value.title,\n            iduser: iduser,\n            idproduct: parseInt(idsp)\n        }\n\n        await reviewApi.create(data);\n        setRef(e => e + 1)\n    };\n    const dispatch = useDispatch();\n\n    const addCart = () => {\n    \n        dispatch(addtoCart({\n            iduser: iduser,\n            idsp: parseInt(idsp),\n            name: profile.firstname,\n            phone: profile.phone,\n            addr: profile.address,\n            src: data.img,\n            nameproduct: data.tensp,\n            size: form.getValues(\"idsize\"),\n            color: form.getValues(\"idcolor\"),\n            soluong: soluong,\n            gia: data.gia\n        }));\n\n    }\n    return (\n        <Box className=\"w-auto px-64 py-32 mx-auto\">\n                <Paper elevation={0}>\n                    <Grid container className=\"mx-auto\">\n                        <Grid item xs={3} className={classes.left}>\n                            <CardMedia\n                                component=\"img\"\n                                image={data.img}\n                                style={{borderRadius: '8px'}}\n                            />\n                        </Grid>\n                        <Grid item xs={9} className={classes.right}>\n                            <Card className=\"mb-16 w-full\">\n                                <AppBar className={classes.appBar} position=\"static\" elevation={0}>\n                                    <Toolbar className=\"pl-16 pr-8\">\n                                        <Typography color=\"inherit\" variant=\"h4\" className=\"font-arc flex-1 font-arc\">\n                                            {data.tensp}\n                                        </Typography>\n                                    </Toolbar>\n                                </AppBar>\n                                <form onSubmit={form.handleSubmit(onSubmitOne)}>\n                                    <CardContent className=\"mx-24\">\n                                        <div className=\"mb-12\">\n                                            <p className=\"font-arc font-bold mb-4 text-20\">{data.tenloaisp}</p>\n                                        </div>\n                                        <div className=\"mb-12\">\n                                            <p className=\"font-arc font-bold mb-4 text-20\">Mô tả: </p>\n                                            <p className=\"font-arc text-20\"> {data.mota}</p>\n                                        </div>\n                                        <div className=\"mb-12\">\n                                            <span className=\"font-arc font-bold mb-4 text-20\">Giá: </span>\n                                            <span className=\"font-arc text-20\"> ${data.gia}</span>\n                                        </div>\n                                        <div\n                                            className=\"mb-12\">\n                                        <span className=\"text-20\">\n                                        <FormControl className={classes.formControl}>\n                                             <InputLabel id=\"tensize\">Size</InputLabel>\n                                         <Controller\n                                             as={\n                                                 <>\n                                                     <Select\n                                                         value={sizename}\n                                                         onChange={(e) => {\n                                                             // Place your logic here\n                                                             form.setValue(\"idsize\", e.target.value)\n                                                             setSizename(e.target.value)\n                                                         }}\n                                                         labelId=\"tensize\"\n                                                     >\n                                                         {size.map(value =>\n                                                             <MenuItem value={value.tensize}\n                                                                       key={value.idsize}>{value.tensize}</MenuItem>\n                                                         )}\n\n                                                     </Select>\n                                                     <FormHelperText error={!!form.errors['idsize']}>\n                                                         {form.errors['idsize']?.message}\n                                                     </FormHelperText>\n                                                 </>\n                                             }\n                                             error={!!form.errors['idsize']}\n                                             name=\"idsize\"\n                                             onChange={(e) => {\n                                                 // Place your logic here\n                                                 setSizename(e.target.value)\n                                             }}\n                                             control={form.control}\n\n                                         />\n                                </FormControl>\n\n                                <FormControl className={classes.formControl}>\n                                             <InputLabel id=\"tencolor\">Màu</InputLabel>\n                                         <Controller\n                                             as={\n                                                 <>\n                                                     <Select\n                                                         value={colorname}\n                                                         onChange={(e) => {\n                                                             setColorname(e.target.value)\n                                                             form.setValue('idcolor', e.target.value)\n                                                         }}\n                                                         labelId=\"tencolor\"\n                                                     >\n                                                         {color.map(value =>\n                                                             <MenuItem value={value.tencolor}\n                                                                       key={value.idcolor}>{value.tencolor}</MenuItem>\n                                                         )}\n\n                                                     </Select>\n\n                                                     <FormHelperText error={!!form.errors['idcolor']}>\n                                                         {form.errors['idcolor']?.message}\n                                                     </FormHelperText>\n\n                                                 </>\n                                             }\n                                             error={!!form.errors['idcolor']}\n                                             name=\"idcolor\"\n                                             onChange={(e) => setColorname(e.target.value)}\n                                             control={form.control}\n                                         />\n                                </FormControl>\n                              <div>\n\n                              <FormControl className={classes.formControl}>\n                                        <Controller\n                                            as={\n                                                <TextField\n                                                    variant=\"outlined\"\n                                                    id=\"title1\"\n                                                    label=\"Số lượng\"\n                                                    type=\"number\"\n                                                    value={form.getValues(\"soluong\")}\n                                                    onChange={(e) => setSoluong(e.target.value)}\n                                                />\n                                            }\n                                            name=\"soluong\"\n                                            control={form.control}\n                                            error={!!form.errors['soluong']}\n                                            helperText={form.errors['soluong']?.message}\n\n                                        />\n                                </FormControl>\n                              </div>            \n                                        </span>\n                                        </div>\n                                    </CardContent>\n                                    <CardActions className=\"m-12\">\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"default\"\n                                            type=\"submit\"\n                                            className={classes.button}\n                                            onClick={() => {\n                                                if (!isLogIn) {\n                                                    history.push('/login');\n                                                    return;\n                                                }\n                                                    \n                                                if (sizename === '' || colorname === '') {\n                                                    enqueueSnackbar('Vui lòng chọn nhập tin sản phẩm', {\n                                                        variant: 'error',\n                                                        autoHideDuration: 2000\n                                                    })\n                                                } else {\n                                                    addCart()\n                                                }\n                                            }\n                                            }\n                                            startIcon={<ShoppingCartIcon/>}\n                                        >\n                                            Thêm vào giỏ hàng\n                                        </Button>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            type=\"submit\"\n                                            onClick={() => {\n                                                if (!isLogIn) {\n                                                    history.push('/login');\n                                                    return;\n                                                }\n                                                if (form.getValues('idsize') === '' || form.getValues('idsize') === '') {\n                                                    enqueueSnackbar('Vui lòng chọn nhập tin sản phẩm', {\n                                                        variant: 'error',\n                                                        autoHideDuration: 2000\n                                                    })\n                                                } else {\n                                                    handleClickOpen()\n                                                }\n                                            }}\n                                            className={classes.button}\n                                            startIcon={<ShoppingBasketIcon/>}\n                                        >\n                                            Mua ngay\n                                        </Button>\n                                    </CardActions>\n                                </form>\n                            </Card>\n                            {\n                                (cmt) && (\n                                    <Card className=\"mb-16 w-lg\">\n                                        <CardContent className=\"mx-16\">\n                                            <form onSubmit={handleSubmit(onSubmit)}>\n                                                <FormControlLabel\n                                                    control={\n                                                        <>\n                                                            <input\n                                                                name=\"rating\"\n                                                                type=\"number\"\n                                                                value={rating}\n                                                                ref={register}\n                                                                hidden\n                                                                readOnly\n                                                            />\n                                                            <Rating\n                                                                name=\"rating\"\n                                                                value={rating}\n                                                                precision={1}\n                                                                onChange={(_, value) => {\n                                                                    setRating(value);\n                                                                }}\n                                                                icon={<StarBorderIcon fontSize=\"inherit\"/>}\n                                                            />\n                                                        </>\n                                                    }\n                                                />\n\n                                                <TextField\n                                                    variant=\"outlined\"\n                                                    margin=\"normal\"\n                                                    fullWidth\n                                                    id=\"title\"\n                                                    label=\"Đánh giá\"\n                                                    name=\"title\"\n                                                    autoFocus\n                                                    inputRef={register()}\n                                                />\n                                                <Button\n                                                    type=\"submit\"\n                                                    variant=\"contained\"\n                                                    color=\"primary\"\n                                                    className={classes.submit}\n                                                >\n                                                    Thêm\n                                                </Button>\n                                            </form>\n                                        </CardContent>\n                                    </Card>\n\n                                )}\n\n                            <Card className=\"mb-16\">\n                                <AppBar className={classes.appBar} position=\"static\" elevation={0}>\n                                    <Toolbar className=\"pl-16 pr-8\">\n                                        <Typography color=\"inherit\" variant=\"h4\" className=\"font-arc flex-1\">\n                                            Bình luận đánh giá sản phẩm\n                                        </Typography>\n                                    </Toolbar>\n                                </AppBar>\n                                <CardContent>\n                                    <List>\n                                        {datacmt.map((e, index) => (\n                                            <>\n                                                <ListItem key={index}>\n                                                    <ListItemAvatar>\n                                                        <Avatar alt=\"avt\" src={e.avt}/>\n\n                                                    </ListItemAvatar>\n                                                    <ListItemText primary={<>\n                                                        <span className=\"font-arc\" style={{display: 'block',fontWeight:'bold'}}>{e.name}</span>\n                                                        <span className=\"font-arc\" >{e.comment}</span>\n                                                    </>}\n                                                                  secondary={<>\n\n                                                                      <span\n                                                                          style={{display: 'block'}}>{e.datecmt}</span>\n                                                                      <Rating\n                                                                          value={e.rating}\n                                                                          name=\"ratingg\"\n                                                                          icon={<StarBorderIcon fontSize=\"inherit\"/>}\n                                                                      />\n\n                                                                  </>}\n                                                    />\n                                                </ListItem>\n                                                <Divider variant=\"inset\" component=\"li\"/>\n\n                                            </>\n                                        ))}\n                                    </List>\n\n\n                                </CardContent>\n                            </Card>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            <Dialog\n                fullWidth\n                maxWidth=\"md\"\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                disableBackdropClick\n                disableEscapeKeyDown\n            >\n                <DialogContent>\n                    <Checkout\n                        iduser={iduser}\n                        idsp={parseInt(idsp)}\n                        name={profile.firstname || ''}\n                        phone={profile.phone || ''}\n                        addr={profile.address || ''}\n                        src={data.img}\n                        nameproduct={data.tensp}\n                        size={sizename}\n                        color={colorname}\n                        soluong={soluong}\n                        gia={data.gia}\n                        closeDialog={handleClose}\n                    />\n                </DialogContent>\n\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Hủy\n                    </Button>\n                </DialogActions>\n\n            </Dialog>\n        </Box>\n    );\n}\n\nexport default DetailPage;"]},"metadata":{},"sourceType":"module"}