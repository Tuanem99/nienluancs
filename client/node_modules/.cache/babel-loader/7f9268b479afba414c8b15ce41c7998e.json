{"ast":null,"code":"var _jsxFileName = \"E:\\\\des\\\\ct271-main\\\\code\\\\client\\\\src\\\\component\\\\LayoutAdmin\\\\Category\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport './style.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MDBDataTable } from 'mdbreact';\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles, Slide } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useForm } from 'react-hook-form';\nimport clsx from 'clsx';\nimport AddIcon from '@material-ui/icons/Add';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { createCategory, deleteCategory, updateCategory } from '../../../Slice/categorySlice';\nimport { useSnackbar } from 'notistack';\nimport InputText from \"../../Form-control/InputText\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  container: {\n    maxHeight: 600\n  },\n  table: {\n    minWidth: 700\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  buttonadd: {\n    marginTop: theme.spacing(4),\n    marginLeft: theme.spacing(2)\n  },\n  content: {\n    display: 'flex',\n    flex: '1 1 100%',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[3],\n    minHeight: 0,\n    borderRadius: '8px'\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nfunction Color() {\n  _s();\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const category = useSelector(state => state.Category.Category);\n  const [Id, setId] = useState('');\n  const [open, setOpen] = useState(false);\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const handleClickOpenEdit = () => {\n    setOpenEdit(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n  };\n\n  const schema = yup.object().shape({\n    categoryname: yup.string().required(\"Vui lòng nhập không để trống\")\n  });\n  const form = useForm({\n    defaultValues: {\n      categoryname: ''\n    },\n    resolver: yupResolver(schema)\n  });\n  const formEdit = useForm({\n    defaultValues: {\n      categoryname: ''\n    },\n    resolver: yupResolver(schema)\n  });\n\n  const handleSubmit = async value => {\n    try {\n      const action = createCategory(value);\n      const rsAction = await dispatch(action);\n      unwrapResult(rsAction);\n      enqueueSnackbar('Thêm thành công', {\n        variant: 'success',\n        autoHideDuration: 2000\n      });\n      form.reset();\n    } catch (error) {\n      enqueueSnackbar(error.message, {\n        variant: 'error',\n        autoHideDuration: 2000\n      });\n    }\n  };\n\n  const deletCG = async value => {\n    try {\n      const action = deleteCategory(value);\n      const rsAction = await dispatch(action);\n      unwrapResult(rsAction);\n      enqueueSnackbar('Xóa thành công', {\n        variant: 'success',\n        autoHideDuration: 2000\n      });\n    } catch (error) {\n      enqueueSnackbar(error.message, {\n        variant: 'error',\n        autoHideDuration: 2000\n      });\n    }\n  };\n\n  const handleSubmitEdit = async value => {\n    try {\n      value.id = Id;\n      const action = updateCategory(value);\n      const rsAction = await dispatch(action);\n      unwrapResult(rsAction);\n      enqueueSnackbar('Cập nhật thành công', {\n        variant: 'success',\n        autoHideDuration: 2000\n      });\n    } catch (error) {\n      enqueueSnackbar(error.message, {\n        variant: 'error',\n        autoHideDuration: 2000\n      });\n    }\n  };\n\n  const row = [];\n  category.forEach(element => {\n    row.push({\n      name: element.name,\n      action: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          size: \"small\",\n          onClick: () => {\n            handleClickOpen();\n            setId(element.id);\n          },\n          className: classes.button,\n          startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 36\n          }, this),\n          children: \"X\\xF3a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          olor: \"primary\",\n          size: \"small\",\n          onClick: () => {\n            handleClickOpenEdit();\n            setId(element.id);\n            formEdit.setValue(\"categoryname\", element.name);\n          },\n          className: classes.button,\n          startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 36\n          }, this),\n          children: \"S\\u1EEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    });\n  });\n  const data = {\n    columns: [{\n      label: 'Loại sản phẩm',\n      field: 'name',\n      width: 450\n    }, {\n      label: 'Hành động',\n      field: 'action'\n    }],\n    rows: row\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(classes.content, 'flex flex-col w-lg p-5'),\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      m: 2,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: form.handleSubmit(handleSubmit),\n        children: [/*#__PURE__*/_jsxDEV(InputText, {\n          name: \"categoryname\",\n          lable: \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m\",\n          form: form\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"small\",\n          type: \"submit\",\n          className: classes.buttonadd,\n          endIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 34\n          }, this),\n          children: \"Th\\xEAm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MDBDataTable, {\n      small: true,\n      data: data,\n      entriesLabel: \"S\\u1ED1 d\\xF2ng\",\n      entries: 5,\n      entriesOptions: [5, 10, 20, 50, 100],\n      infoLabel: [\"Hiển thị\", \"đến\", \"của\", \"dòng\"],\n      searchLabel: \"T\\xECm ki\\u1EBFm\",\n      paginationLabel: [\"Trước\", \"Sau\"],\n      hover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      disableBackdropClick: true,\n      disableEscapeKeyDown: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        onClose: handleClose,\n        children: \"Th\\xF4ng b\\xE1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primary h3-responsive text-center font-weight-bold\",\n          style: {\n            width: '400px'\n          },\n          children: \"B\\u1EA1n mu\\u1ED1n x\\xF3a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            handleClose();\n            deletCG(Id);\n          },\n          color: \"primary\",\n          children: \"\\u0110\\u1ED3ng \\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openEdit,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: handleCloseEdit,\n      \"aria-labelledby\": \"alert-dialog-slide-title\",\n      \"aria-describedby\": \"alert-dialog-slide-description\",\n      disableBackdropClick: true,\n      disableEscapeKeyDown: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold text-20 font-arc text-center\",\n          children: \"Th\\xF4ng b\\xE1o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formEdit.handleSubmit(handleSubmitEdit),\n        children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            name: \"categoryname\",\n            lable: \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m\",\n            form: formEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCloseEdit,\n            color: \"primary\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              handleCloseEdit();\n            },\n            color: \"primary\",\n            type: \"submit\",\n            children: \"\\u0110\\u1ED3ng \\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Color, \"cOWk1ZS11Jih23y7L+ev0L/G8oE=\", false, function () {\n  return [useDispatch, useStyles, useSnackbar, useSelector, useForm, useForm];\n});\n\n_c3 = Color;\nexport default Color;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"Color\");","map":{"version":3,"sources":["E:/des/ct271-main/code/client/src/component/LayoutAdmin/Category/index.jsx"],"names":["React","useState","useDispatch","useSelector","MDBDataTable","Box","Button","Dialog","DialogActions","DialogContent","DialogTitle","makeStyles","Slide","DeleteIcon","EditIcon","useForm","clsx","AddIcon","unwrapResult","createCategory","deleteCategory","updateCategory","useSnackbar","InputText","yup","yupResolver","useStyles","theme","root","width","container","maxHeight","table","minWidth","button","margin","spacing","buttonadd","marginTop","marginLeft","content","display","flex","flexDirection","backgroundColor","palette","background","paper","boxShadow","shadows","minHeight","borderRadius","visuallyHidden","border","clip","height","overflow","padding","position","top","Transition","forwardRef","props","ref","Color","dispatch","classes","enqueueSnackbar","category","state","Category","Id","setId","open","setOpen","openEdit","setOpenEdit","handleClickOpenEdit","handleClose","handleClickOpen","handleCloseEdit","schema","object","shape","categoryname","string","required","form","defaultValues","resolver","formEdit","handleSubmit","value","action","rsAction","variant","autoHideDuration","reset","error","message","deletCG","handleSubmitEdit","id","row","forEach","element","push","name","setValue","data","columns","label","field","rows"],"mappings":"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","sourcesContent":["import './style.css'\nimport React, {useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {MDBDataTable} from 'mdbreact';\nimport {Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles, Slide} from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {useForm} from 'react-hook-form';\nimport clsx from 'clsx';\nimport AddIcon from '@material-ui/icons/Add';\nimport {unwrapResult} from '@reduxjs/toolkit';\nimport {createCategory, deleteCategory, updateCategory} from '../../../Slice/categorySlice';\nimport {useSnackbar} from 'notistack';\nimport InputText from \"../../Form-control/InputText\";\nimport * as yup from \"yup\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    container: {\n        maxHeight: 600,\n    },\n    table: {\n        minWidth: 700,\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    buttonadd: {\n        marginTop: theme.spacing(4),\n        marginLeft: theme.spacing(2)\n    },\n    content: {\n        display: 'flex',\n        flex: '1 1 100%',\n        flexDirection: 'column',\n        backgroundColor: theme.palette.background.paper,\n        boxShadow: theme.shadows[3],\n        minHeight: 0,\n        borderRadius: '8px'\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction Color() {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const {enqueueSnackbar} = useSnackbar();\n    const category = useSelector(state => state.Category.Category)\n    const [Id, setId] = useState('');\n    const [open, setOpen] = useState(false);\n    const [openEdit, setOpenEdit] = useState(false);\n    const handleClickOpenEdit = () => {\n        setOpenEdit(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleCloseEdit = () => {\n        setOpenEdit(false);\n    };\n\n    const schema = yup.object().shape({\n        categoryname: yup.string().required(\"Vui lòng nhập không để trống\"),\n       \n\n    });\n    const form = useForm({\n        defaultValues: {\n            categoryname: ''\n        },\n        resolver: yupResolver(schema)\n\n    });\n\n    const formEdit = useForm({\n        defaultValues: {\n            categoryname: ''\n        },\n        resolver: yupResolver(schema)\n\n    });\n\n    const handleSubmit = async (value) => {\n        try {\n            const action = createCategory(value);\n            const rsAction = await dispatch(action);\n            unwrapResult(rsAction);\n            enqueueSnackbar('Thêm thành công', {variant: 'success', autoHideDuration: 2000});\n            form.reset()\n\n        } catch (error) {\n            enqueueSnackbar(error.message, {variant: 'error', autoHideDuration: 2000})\n        }\n    }\n\n    const deletCG = async (value) => {\n        try {\n            const action = deleteCategory(value);\n            const rsAction = await dispatch(action);\n            unwrapResult(rsAction);\n            enqueueSnackbar('Xóa thành công', {variant: 'success', autoHideDuration: 2000});\n\n        } catch (error) {\n            enqueueSnackbar(error.message, {variant: 'error', autoHideDuration: 2000})\n        }\n    }\n\n\n    const handleSubmitEdit = async (value) => {\n        try {\n            value.id = Id;\n            const action = updateCategory(value);\n            const rsAction = await dispatch(action);\n            unwrapResult(rsAction);\n            enqueueSnackbar('Cập nhật thành công', {variant: 'success', autoHideDuration: 2000});\n\n        } catch (error) {\n            enqueueSnackbar(error.message, {variant: 'error', autoHideDuration: 2000})\n        }\n    }\n\n    const row = []\n    category.forEach(element => {\n        row.push({\n            name: element.name,\n            action:\n                <>\n                    <Button\n                        variant='contained'\n                        color='secondary'\n                        size='small'\n                        onClick={() => {\n                            handleClickOpen()\n                            setId(element.id)\n                        }}\n                        className={classes.button}\n                        startIcon={<DeleteIcon/>}\n                    >\n                        Xóa\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        olor=\"primary\"\n                        size=\"small\"\n                        onClick={() => {\n                            handleClickOpenEdit()\n                            setId(element.id)\n                            formEdit.setValue(\"categoryname\", element.name)\n                        }}\n                        className={classes.button}\n                        startIcon={<EditIcon/>}\n                    >\n                        Sửa\n                    </Button>\n                </>\n        });\n\n\n    });\n    const data = {\n        columns: [{\n            label: 'Loại sản phẩm',\n            field: 'name',\n            width: 450,\n        },\n            {\n                label: 'Hành động',\n                field: 'action'\n            }],\n        rows: row\n    }\n    return (\n        <div className={clsx(classes.content, 'flex flex-col w-lg p-5')}>\n            <Box m={2}>\n                <form onSubmit={form.handleSubmit(handleSubmit)}>\n                    <InputText name=\"categoryname\" lable=\"Loại sản phẩm\" form={form}/>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\"\n                        type=\"submit\"\n                        className={classes.buttonadd}\n                        endIcon={<AddIcon/>}\n                    >\n                        Thêm\n                    </Button>\n                </form>\n            </Box>\n\n            <MDBDataTable\n                small\n                data={data}\n                entriesLabel='Số dòng'\n                entries={5}\n                entriesOptions={[5, 10, 20, 50, 100]}\n                infoLabel={[\"Hiển thị\", \"đến\", \"của\", \"dòng\"]}\n                searchLabel=\"Tìm kiếm\"\n                paginationLabel={[\"Trước\", \"Sau\"]}\n                hover\n            />\n\n            <Dialog\n                open={open}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                disableBackdropClick\n                disableEscapeKeyDown\n            >\n                <DialogTitle onClose={handleClose}>\n                    Thông báo\n                </DialogTitle>\n                <DialogContent>\n                    <p className=\"text-primary h3-responsive text-center font-weight-bold\" style={{width: '400px'}}>Bạn\n                        muốn xóa</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Hủy\n                    </Button>\n                    <Button onClick={() => {\n                        handleClose()\n                        deletCG(Id)\n                    }} color=\"primary\">\n                        Đồng ý\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Dialog\n                open={openEdit}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={handleCloseEdit}\n                aria-labelledby=\"alert-dialog-slide-title\"\n                aria-describedby=\"alert-dialog-slide-description\"\n                disableBackdropClick\n                disableEscapeKeyDown\n            >\n                <DialogTitle>\n                    <p className=\"font-bold text-20 font-arc text-center\">Thông báo</p>\n                </DialogTitle>\n                <form onSubmit={formEdit.handleSubmit(handleSubmitEdit)}>\n                    <DialogContent>\n                        <InputText name=\"categoryname\" lable=\"Loại sản phẩm\" form={formEdit}/>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleCloseEdit} color=\"primary\">\n                            Hủy\n                        </Button>\n                        <Button onClick={() => {\n                            handleCloseEdit()\n                        }} color=\"primary\" type=\"submit\">\n                            Đồng ý\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </div>\n\n    );\n}\n\nexport default Color;"]},"metadata":{},"sourceType":"module"}