{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TUAN EM\\\\Desktop\\\\ct271-main\\\\code\\\\client\\\\src\\\\component\\\\Login\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getProfile, login, orderUser } from '../../Slice/useSlice';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { useSnackbar } from \"notistack\";\nimport LoginForm from '../LoginForm';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n\n  const handleSubmit = async values => {\n    try {\n      const rs = await dispatch(login(values));\n      unwrapResult(rs);\n      await dispatch(getProfile());\n      await dispatch(orderUser());\n      history.go(0);\n      history.goBack();\n    } catch (error) {\n      enqueueSnackbar(error.message, {\n        variant: 'error',\n        autoHideDuration: 2000\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LoginForm, {\n      onSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"FzaGPHI43LZwCDgQQgPj4rUnoDQ=\", false, function () {\n  return [useHistory, useDispatch, useSnackbar];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/TUAN EM/Desktop/ct271-main/code/client/src/component/Login/index.jsx"],"names":["React","useDispatch","getProfile","login","orderUser","unwrapResult","useSnackbar","LoginForm","useHistory","Login","history","dispatch","enqueueSnackbar","handleSubmit","values","rs","go","goBack","error","message","variant","autoHideDuration"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,UAAR,EAAoBC,KAApB,EAA2BC,SAA3B,QAA2C,sBAA3C;AACA,SAAQC,YAAR,QAA2B,kBAA3B;AACA,SAAQC,WAAR,QAA0B,WAA1B;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;;;AAEA,SAASC,KAAT,GAAiB;AAAA;;AACb,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAM;AAACW,IAAAA;AAAD,MAAoBN,WAAW,EAArC;;AAGA,QAAMO,YAAY,GAAG,MAAOC,MAAP,IAAkB;AACnC,QAAI;AACA,YAAMC,EAAE,GAAG,MAAMJ,QAAQ,CAACR,KAAK,CAACW,MAAD,CAAN,CAAzB;AACAT,MAAAA,YAAY,CAACU,EAAD,CAAZ;AACA,YAAMJ,QAAQ,CAACT,UAAU,EAAX,CAAd;AACA,YAAMS,QAAQ,CAACP,SAAS,EAAV,CAAd;AACAM,MAAAA,OAAO,CAACM,EAAR,CAAW,CAAX;AACAN,MAAAA,OAAO,CAACO,MAAR;AAEH,KARD,CAQE,OAAOC,KAAP,EAAc;AACZN,MAAAA,eAAe,CAACM,KAAK,CAACC,OAAP,EAAgB;AAACC,QAAAA,OAAO,EAAE,OAAV;AAAmBC,QAAAA,gBAAgB,EAAE;AAArC,OAAhB,CAAf;AACH;AAEJ,GAbD;;AAcA,sBACI;AAAA,2BACI,QAAC,SAAD;AAAW,MAAA,QAAQ,EAAER;AAArB;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAKH;;GAzBQJ,K;UACWD,U,EACCP,W,EACSK,W;;;KAHrBG,K;AA2BT,eAAeA,KAAf","sourcesContent":["import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {getProfile, login, orderUser} from '../../Slice/useSlice'\nimport {unwrapResult} from '@reduxjs/toolkit';\nimport {useSnackbar} from \"notistack\";\nimport LoginForm from '../LoginForm';\nimport {useHistory} from \"react-router-dom\";\n\nfunction Login() {\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const {enqueueSnackbar} = useSnackbar();\n\n\n    const handleSubmit = async (values) => {\n        try {\n            const rs = await dispatch(login(values));\n            unwrapResult(rs)\n            await dispatch(getProfile());\n            await dispatch(orderUser())\n            history.go(0)\n            history.goBack()\n\n        } catch (error) {\n            enqueueSnackbar(error.message, {variant: 'error', autoHideDuration: 2000})\n        }\n\n    }\n    return (\n        <>\n            <LoginForm onSubmit={handleSubmit}/>\n        </>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}